/**
 * Copyright (C) 2011 Hakim El Hattab, http://hakim.se
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 * #############################################################################
 *
 * Reveal.js is an easy to use HTML based slideshow enhanced by 
 * sexy CSS 3D transforms.
 * 
 * Slides are given unique hash based URL's so that they can be 
 * opened directly.
 * 
 * Public facing methods:
 * - Reveal.initialize( { ... options ... } );
 * - Reveal.navigateTo( indexh, indexv );
 * - Reveal.navigateLeft();
 * - Reveal.navigateRight();
 * - Reveal.navigateUp();
 * - Reveal.navigateDown();
 * 	
 * @author Hakim El Hattab | http://hakim.se
 * @version 1.2
 */var Reveal=function(){function j(a){if(!h&&!g){document.body.setAttribute("class","no-transforms");return}f.wrapper=document.querySelector("#reveal"),f.progress=document.querySelector("#reveal .progress"),f.progressbar=document.querySelector("#reveal .progress span"),f.controls=document.querySelector("#reveal .controls"),f.controlsLeft=document.querySelector("#reveal .controls .left"),f.controlsRight=document.querySelector("#reveal .controls .right"),f.controlsUp=document.querySelector("#reveal .controls .up"),f.controlsDown=document.querySelector("#reveal .controls .down"),document.addEventListener("keydown",m,!1),document.addEventListener("touchstart",n,!1),window.addEventListener("hashchange",p,!1),f.controlsLeft.addEventListener("click",l(E),!1),f.controlsRight.addEventListener("click",l(F),!1),f.controlsUp.addEventListener("click",l(G),!1),f.controlsDown.addEventListener("click",l(H),!1),k(e,a),g===!1&&(e.transition="linear"),e.controls&&(f.controls.style.display="block"),e.progress&&(f.progress.style.display="block"),e.transition!=="default"&&f.wrapper.classList.add(e.transition),e.theme!=="default"&&f.wrapper.classList.add(e.theme),e.mouseWheel&&(document.addEventListener("DOMMouseScroll",o,!1),document.addEventListener("mousewheel",o,!1)),e.rollingLinks&&q(),z()}function k(a,b){for(var c in b)a[c]=b[c]}function l(a){return function(b){b.preventDefault(),a.call()}}function m(a){if(a.target.contentEditable==="inherit")if(a.keyCode>=37&&a.keyCode<=40){switch(a.keyCode){case 37:E();break;case 39:F();break;case 38:G();break;case 40:H()}w(),a.preventDefault()}else a.keyCode===32&&g&&(t()?s():r(),a.preventDefault())}function n(a){if(a.touches.length===1){if(a.target.tagName.toLowerCase()==="a"||a.target.tagName.toLowerCase()==="img")return;a.preventDefault();var b={x:a.touches[0].clientX,y:a.touches[0].clientY},c=window.innerWidth*.3,d=window.innerHeight*.3;b.x<c?E():b.x>window.innerWidth-c?F():b.y<d?G():b.y>window.innerHeight-d&&H(),w()}}function o(a){clearTimeout(i),i=setTimeout(function(){var b=a.detail||-a.wheelDelta;b>0?y().down?H():F():y().up?G():E()},200)}function p(a){z()}function q(){if(g){var a=document.querySelectorAll("#reveal .slides section a:not(.image)");for(var b=0,c=a.length;b<c;b++){var d=a[b];d.textContent&&!d.querySelector("img")&&(!d.className||!hasClass(d,"roll"))&&(d.classList.add("roll"),d.innerHTML='<span data-title="'+d.text+'">'+d.innerHTML+"</span>")}}}function r(){f.wrapper.classList.add("overview");var b=Array.prototype.slice.call(document.querySelectorAll(a));for(var e=0,g=b.length;e<g;e++){var h=b[e],i="translateZ(-2500px) translate("+(e-c)*105+"%, 0%)";h.setAttribute("data-index-h",e),h.style.display="block",h.style.WebkitTransform=i,h.style.MozTransform=i,h.style.msTransform=i,h.style.OTransform=i,h.style.transform=i,h.classList.contains("stack")||h.addEventListener("click",u,!0);var j=Array.prototype.slice.call(h.querySelectorAll("section"));for(var k=0,l=j.length;k<l;k++){var m=j[k],n="translate(0%, "+(k-d)*105+"%)";m.setAttribute("data-index-h",e),m.setAttribute("data-index-v",k),m.style.display="block",m.style.WebkitTransform=n,m.style.MozTransform=n,m.style.msTransform=n,m.style.OTransform=n,m.style.transform=n,m.addEventListener("click",u,!0)}}}function s(){f.wrapper.classList.remove("overview");var a=Array.prototype.slice.call(document.querySelectorAll("#reveal .slides section"));for(var b=0,c=a.length;b<c;b++){var d=a[b];d.style.WebkitTransform="",d.style.MozTransform="",d.style.msTransform="",d.style.OTransform="",d.style.transform="",d.removeEventListener("click",u)}w()}function t(){return f.wrapper.classList.contains("overview")}function u(a){t()&&(a.preventDefault(),s(),c=this.getAttribute("data-index-h"),d=this.getAttribute("data-index-v"),w())}function v(a,b){var c=Array.prototype.slice.call(document.querySelectorAll(a));if(c.length){b=Math.max(Math.min(b,c.length-1),0),c[b].className="present";for(var d=0;d<c.length;d++){var e=c[d];t()===!1&&(e.style.display=Math.abs(b-d)>3?"none":"block"),d<b?e.className="past":d>b&&(e.className="future"),e.querySelector("section")&&e.classList.add("stack")}}else b=0;return b}function w(){c=v(a,c),d=v(b,d),e.progress&&(f.progressbar.style.width=c/(document.querySelectorAll(a).length-1)*window.innerWidth+"px"),t()&&r(),x(),A()}function x(){var a=y();[f.controlsLeft,f.controlsRight,f.controlsUp,f.controlsDown].forEach(function(a){a.classList.remove("enabled")}),a.left&&f.controlsLeft.classList.add("enabled"),a.right&&f.controlsRight.classList.add("enabled"),a.up&&f.controlsUp.classList.add("enabled"),a.down&&f.controlsDown.classList.add("enabled")}function y(){var e=document.querySelectorAll(a),f=document.querySelectorAll(b);return{left:c>0,right:c<e.length-1,up:d>0,down:d<f.length-1}}function z(){var a=window.location.hash.slice(2).split("/");c=a[0]?parseInt(a[0]):0,d=a[1]?parseInt(a[1]):0,D(c,d)}function A(){if(e.history){var a="/";if(c>0||d>0)a+=c;d>0&&(a+="/"+d),window.location.hash=a}}function B(){if(document.querySelector(b+".present")){var c=document.querySelectorAll(b+".present .fragment:not(.visible)");if(c.length)return c[0].classList.add("visible"),!0}else{var d=document.querySelectorAll(a+".present .fragment:not(.visible)");if(d.length)return d[0].classList.add("visible"),!0}return!1}function C(){if(document.querySelector(b+".present")){var c=document.querySelectorAll(b+".present .fragment.visible");if(c.length)return c[c.length-1].classList.remove("visible"),!0}else{var d=document.querySelectorAll(a+".present .fragment.visible");if(d.length)return d[d.length-1].classList.remove("visible"),!0}return!1}function D(a,b){c=a===undefined?c:a,d=b===undefined?d:b,w()}function E(){if(t()||C()===!1)c--,d=0,w()}function F(){if(t()||B()===!1)c++,d=0,w()}function G(){if(t()||C()===!1)d--,w()}function H(){if(t()||B()===!1)d++,w()}var a="#reveal .slides>section",b="#reveal .slides>section.present>section",c=0,d=0,e={controls:!1,progress:!1,history:!1,transition:"default",theme:"default",mouseWheel:!0,rollingLinks:!0},f={},g=document.body.style.perspectiveProperty!==undefined||document.body.style.WebkitPerspective!==undefined||document.body.style.MozPerspective!==undefined||document.body.style.msPerspective!==undefined,h=document.body.style.transformProperty!==undefined||document.body.style.WebkitTransform!==undefined||document.body.style.MozTransform!==undefined||document.body.style.msTransform!==undefined||document.body.style.OTransform!==undefined,i=0;return{initialize:j,navigateTo:D,navigateLeft:E,navigateRight:F,navigateUp:G,navigateDown:H}}();